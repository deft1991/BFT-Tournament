<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
	<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jsPlumb/1.4.1/jquery.jsPlumb-1.4.1-all-min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.15/datatables.min.js"></script>
	<script type="text/javascript" src="js/FileSaver.min.js"></script>
	<script src="js/bootstrap/js/bootstrap.js"></script>
	<script src="js/contextMenu/contextMenu.js"></script>
	<script src="js/plumb.js"></script>
	<script src="js/FileSaver.js"></script>
	<script src="js/main.js"></script>
	<link href="css/main.css"  rel="stylesheet" type="text/css">
	<link href="js/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css"/>
	<link href="js/bootstrap/css/bootstrap-theme.css" rel="stylesheet" type="text/css"/>
	<link href="js/contextMenu/contextMenu.css" rel="stylesheet" type="text/css"/>
	<link href="https://cdn.datatables.net/v/dt/dt-1.10.15/datatables.min.css" rel="stylesheet" type="text/css"/>
</head>
<body style="padding-top:10px" onload="Init()">

<div class="container">
	<div class="row">
		<div id = "toolBar1" class="col-md-1">
		</div>
		<div class="col-md-11">
			<div class="row">
				<div id="nav" class="col-md-6">
					<button id="add" type="button" class="btn btn-success btn-lg btnNav"> 
						<span class="glyphicon glyphicon-plus"></span>
					</button>
					<button id="sub" type="button" class="btn btn-success btn-lg btnNav"> 
						<span class="glyphicon glyphicon-minus"></span>
					</button>
					<button id="mul" type="button" class="btn btn-success btn-lg btnNav"> 
						<span class="glyphicon glyphicon-remove"></span>
					</button>
					<button id="div" type="button" class="btn btn-success btn-lg btnNav"> 
						<span class="glyphicon glyphicon-italic"></span>
					</button>
					<button id="temp" type="button" class="btn btn-success btn-lg btnNav"> 
						<span class="glyphicon glyphicon-search"></span>
					</button>
					<button id="trash" type="button" class="btn btn-success btn-lg"> 
						<span class="glyphicon glyphicon-trash"></span>
					</button>
				</div>
				<div class="col-md-6" style="text-align: left">
					<span class="btn btn-success btn-file  btn-lg glyphicon glyphicon-folder-open">
						<input id="loadDataByFile" type="file" onchange="previewFile()"/>
					</span>
					<button id="validate" type="button" class="btn btn-success btn-lg" onclick="createFormulsList()"> 
						<span class="glyphicon glyphicon-check"></span>
					</button>
					<button id="run" type="button" class="btn btn-success btn-lg"> 
						<span class="glyphicon glyphicon-play"></span>
					</button>
					<button id="save" type="button" class="btn btn-success btn-lg"> 
						<span class="glyphicon glyphicon-save"></span>
					</button>
				</div>
			</div>
			<div class="row" style="padding-top: 5px">
				<div id = "workzone" class="col-md-11" style="height:500px; max-height:700px; min-height: 500px; border:solid; overflow:scroll;">
				</div>
			</div>
			<div class="row">
				<div class="col-md-12" id = "toolBar">
				
				</div>
			</div>
		</div>
	</div>
	
	
	<!-- HTML-код модального окна-->
	<div id="myModal" class="modal fade">
	  <input type="hidden" id="elementId" value="-1" />
	  <div class="modal-dialog modal-lg">
		<div class="modal-content">
		  <!-- Заголовок модального окна -->
		  <div class="modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
			<h4 class="modal-title">Просмотр элемента</h4>
		  </div>
		  <!-- Основное содержимое модального окна -->
		  <div id="modal-body" class="modal-body">
			
		  </div>
		  <!-- Футер модального окна -->
		  <div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Закрыть</button>
			<button id="filterAccept" type="button" class="btn btn-primary">Применить</button>
		  </div>
		</div>
	  </div>
	</div>
</div>
</body>
</html>
<script src="js/FileSaver.js"></script>
<script>
    var serviceURL = "http://localhost:6060/servletexam/mainServlet?action=start_service";

    $('#run').click(function() {
        getPaths();
    });

    function getPaths() {
        console.log('display paths');
        var name = JSON.stringify(items);
        console.log(name);
        $.ajax({
            url: serviceURL,
            type: 'GET',
            crossDomain: true,
            dataType: "json", // data type get back from server
            data: {"data": name}, //data sent to server
            success: function (data, textStatus, jqXHR) {
                var data = $(data);
                $('#id').append(data);

                alert('Path created successfully. SessionID = ' + data[0] );
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert('Path Finder : ' + textStatus);
            }
        });
    }


    var items = [{
        "name": "table_12",
        "datatype": "table",
        "value": [
            [ "Tiger Nixon", "System Architect", "Edinburgh", "5421", "2011-04-25", "320.800" ],
            [ "Garrett Winters", "Accountant", "Tokyo", "8422", "2011-07-25", "170.750" ]
        ],
        "columns": [
            {"name": "Name","type": "string"},{"name": "Position","type": "string"},
            {"name": "Office","type": "string"},{"name": "Extn","type": "long"},
            {"name": "StartDate","type": "date"},{"name": "Salary","type": "double"}
        ]
        }];

</script>